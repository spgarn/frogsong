"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[923],{2305:function(e,n,r){r.d(n,{a:function(){return c},b:function(){return l},d:function(){return i},u:function(){return o}});var t=r(7294),u=r(4287),a=r(9590),o=function(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])},l=function(e,n){var r=(0,t.useRef)(void 0);a(n,r.current)||(r.current=n),(0,t.useEffect)(e,r.current)},c=function(e,n){l((function(){Object.entries(e||[]).forEach((function(e){var r=(0,u.b)(e,2),t=r[0],a=r[1];n.registerTab(t,(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return a.apply(void 0,r.concat([n]))}))}))}),[e,n])},i=function(e){return e}},4185:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(4287),u=r(7294),a=r(7202),o=r(2305),l=r(9590);var c=["id","name","value","onFileSelect","onChange","onDialogOpen","onDialogClose","onTabChange","apiRef","customTabs","validators","tabsCss","locale","localeTranslations","localePluralize","previewUrlCallback","metadataCallback"],i=function(e,n){var r=e.id,a=e.name,i=e.value,f=e.onFileSelect,s=e.onChange,d=e.onDialogOpen,v=e.onDialogClose,C=e.onTabChange,p=e.apiRef,E=e.customTabs,g=e.validators,b=e.tabsCss,A=e.locale,L=e.localeTranslations,h=e.localePluralize,m=e.previewUrlCallback,w=e.metadataCallback,O=(0,t._)(e,c),R=(0,u.useRef)(null),_=(0,u.useRef)(null),D=(0,u.useRef)(null),U=(0,o.u)(f),k=(0,o.u)(s),T=(0,o.u)(d),P=(0,o.u)(v),y=(0,o.u)(C),I=(0,o.u)(w),S=(0,o.u)(m||o.d),N=function(e,n){var r=!0,t=(0,u.useRef)();t.current?r=!!(n&&t.current.deps&&l(n,t.current.deps)):t.current={deps:n,result:e()};var a=r?t.current:{deps:n,result:e()};return t.current=a,a.result}((function(){return O}),[O]);return(0,o.a)(E,n),(0,o.b)((function(){return A&&(window.UPLOADCARE_LOCALE=A),h&&(window.UPLOADCARE_LOCALE_PLURALIZE=h),L&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=L),n.plugin((function(e){e.locale.rebuild({locale:A||null,localeTranslations:L||null,localePluralize:h||null})})),function(){A&&delete window.UPLOADCARE_LOCALE,h&&delete window.UPLOADCARE_LOCALE_PLURALIZE,L&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS}}),[A,L,h]),(0,u.useEffect)((function(){var e=R.current;_.current=n.Widget(e,(0,t.a)((0,t.a)({},N),{},{metadataCallback:N.metadata?void 0:I,previewUrlCallback:S}));var r=e.nextSibling;return D.current&&_.current.value(D.current),function(){n.jQuery(e).removeData("uploadcareWidget"),r&&r.remove()}}),[n,N,I,S]),function(e,n){(0,u.useEffect)((function(){if(null!=n){var r=e.current;return n.forEach((function(e){r.validators.push(e)})),function(){r.validators.length=0}}}),[e,n])}(_,g),(0,u.useEffect)((function(){return _.current.onUploadComplete.add(k),_.current.onChange.add(U),function(){_.current.onUploadComplete.remove(k),_.current.onChange.remove(U)}}),[k,U,n,N]),(0,u.useEffect)((function(){var e,n=function(n){(e=n).done(P).fail(P).progress(y),T(n)};return _.current.onDialogOpen.add(n),function(){_.current.onDialogOpen.remove(n),e&&e.reject()}}),[P,T,y,N]),(0,u.useEffect)((function(){var e=[],n=function(n){e=n?n.files?n.files():[n]:[]};return _.current.onChange.add(n),function(){e.forEach((function(e){return e.cancel()})),_.current.onChange.remove(n)}}),[N]),(0,u.useEffect)((function(){D.current!==i&&_.current.value(i),D.current=i}),[i]),(0,u.useEffect)((function(){n&&b&&"string"==typeof b&&(0===b.indexOf("https://")?n.tabsCss.addUrl(b):n.tabsCss.addStyle(b))}),[n,b]),(0,u.useImperativeHandle)(p,(function(){return{openDialog:function(){return _.current.openDialog()},reloadInfo:function(){return _.current.reloadInfo()},getInput:function(){return _.current.inputElement},value:function(e){return _.current.value(e)}}}),[]),(0,u.useCallback)((function(){return u.createElement("input",{type:"hidden",ref:R,id:r,name:a})}),[r,a])},f=function(e){var n=i(e,a);return u.createElement(n,null)}}}]);
//# sourceMappingURL=ucare-widget-chunk-3ec93d80cb31609ee34c.js.map