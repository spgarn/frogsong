"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[315],{2305:function(e,n,r){r.d(n,{a:function(){return i},b:function(){return u},d:function(){return c},u:function(){return o}});var t=r(7294),a=r(4287),l=r(9590),o=function(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])},u=function(e,n){var r=(0,t.useRef)(void 0);l(n,r.current)||(r.current=n),(0,t.useEffect)(e,r.current)},i=function(e,n){u((function(){Object.entries(e||[]).forEach((function(e){var r=(0,a.b)(e,2),t=r[0],l=r[1];n.registerTab(t,(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return l.apply(void 0,r.concat([n]))}))}))}),[e,n])},c=function(e){return e}},415:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(4287),a=r(7294),l=r(7202),o=r(2305),u=(r(9590),["value","apiRef","onTabChange","onChange","onProgress","customTabs","previewUrlCallback","metadataCallback"]),i={height:"500px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},c=function(e,n){var r=[];return e&&(r=Array.isArray(e)?e:[e]),r},f=function(e){var n=(0,a.useState)((function(){return"uploadcare-".concat(Date.now())})),r=(0,t.b)(n,1)[0],f=(0,a.useMemo)((function(){return a.createElement("style",null,function(e){return"\n  .".concat(e," .uploadcare--preview__done:not(.uploadcare-tab-effects--done),\n  .").concat(e," .uploadcare--panel__done:not(.uploadcare-tab-effects--done) {\n    display: none;\n  }\n")}(r))}),[r]),s=function(e,n){var r=e.value,l=e.apiRef,i=e.onTabChange,f=e.onChange,s=e.onProgress,d=e.customTabs,C=e.previewUrlCallback,b=e.metadataCallback,v=(0,t._)(e,u),p=v.tabsCss,L=v.locale,m=v.localeTranslations,A=v.localePluralize,w=(0,a.useRef)(null),y=(0,a.useRef)(null),E=(0,o.u)(i),_=(0,o.u)(f),h=(0,o.u)(s),g=(0,o.u)(b),R=(0,o.u)(C||o.d);return(0,o.a)(d,n),(0,o.b)((function(){return L&&(window.UPLOADCARE_LOCALE=L),A&&(window.UPLOADCARE_LOCALE_PLURALIZE=A),m&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=m),function(){L&&delete window.UPLOADCARE_LOCALE,A&&delete window.UPLOADCARE_LOCALE_PLURALIZE,m&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS}}),[L,A,m]),(0,a.useEffect)((function(){n&&p&&"string"==typeof p&&(0===p.indexOf("https://")?n.tabsCss.addUrl(p):n.tabsCss.addStyle(p))}),[n,p]),(0,a.useEffect)((function(){var e=c(r);y.current&&y.current.reject(),y.current=n.openPanel(w.current,e,(0,t.a)((0,t.a)({multipleMax:v.multiple?void 0:1},v),{},{multiple:!0,metadataCallback:v.metadata?void 0:g,previewUrlCallback:R}))}),[n].concat((0,t.c)(Object.values(v)))),(0,a.useEffect)((function(){var e=y.current;e.progress(E);var n=function(){var e=y.current.fileColl.__items.map((function(e){return e.promise()}));_(e)},r=function(){var e=y.current.fileColl.lastProgresses();h(e)};return e.fileColl.anyProgressList.add(r),e.fileColl.anyDoneList.add(n),e.fileColl.anyFailList.add(n),e.fileColl.onRemove.add(n),e.fileColl.onReplace.add(n),e.fileColl.onSort.add(n),function(){var e=y.current;e.fileColl.anyProgressList.remove(r),e.fileColl.anyDoneList.remove(n),e.fileColl.anyFailList.remove(n),e.fileColl.onRemove.remove(n),e.fileColl.onReplace.remove(n),e.fileColl.onSort.remove(n)}}),[].concat((0,t.c)(Object.values(v)),[E,_,h])),(0,a.useImperativeHandle)(l,(function(){return{onTabVisibility:function(e){return y.current.onTabVisibility(e)},hideTab:function(e){return y.current.hideTab(e)},showTab:function(e){return y.current.showTab(e)},switchTab:function(e){return y.current.switchTab(e)},addFiles:function(e){return y.current.addFiles(e)},isTabVisible:function(e){return y.current.isTabVisible(e)},getFileColl:function(){return y.current.fileColl},getRawDialogApi:function(){return y.current}}}),[]),(0,a.useEffect)((function(){return function(){return y.current&&y.current.reject()}}),[]),(0,a.useEffect)((function(){var a=!1;y.current.fileColl.clear();var l,o=c(r),u=(0,t.d)(o);try{for(u.s();!(l=u.n()).done;){var i=l.value;if("string"==typeof i&&i.includes("~")){n.loadFileGroup(i,e).then((function(e){if(!a){var n=e.files();y.current.addFiles(n)}}));break}y.current.fileColl.add(n.fileFrom("uploaded",i,e))}}catch(f){u.e(f)}finally{u.f()}return function(){a=!0}}),[r]),[w]}(e,l),d=(0,t.b)(s,1)[0];return a.createElement("div",{id:e.id,className:r,style:i},f,a.createElement("div",{ref:d}))}}}]);
//# sourceMappingURL=ucare-panel-chunk-4a2d283a366f71da6178.js.map